<md-sidenav layout="column" class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('gt-md') && identity.isAuthenticated()">
    <md-toolbar id="identityBox" class="md-tall md-hue-2">
        <div layout="column" class="md-toolbar-tools-bottom inset">
            <img data-ng-if="identity.getAvatar()" ng-src="{{ identity.getAvatar() }}" style="width: 60px; height: 60px; border-radius: 50%">
            <div style="padding-top:20px" data-ng-if="organization">{{organization.name}}</div>
        </div>
    </md-toolbar>
    <md-content flex layout-padding layout-fill ng-controller="LeftController">
        <md-list>
            <md-subheader class="md-no-sticky">
                My Organizations
            </md-subheader>
            <md-list-item ng-repeat="membership in identity.getMemberships()">
                <md-button
                    style="text-align:left"
                    ui-sref="org.collaboration({ orgId: membership.organization.id })"
                    ui-sref-active="md-primary"
                    ng-click="toggleLeft()">
                    <md-icon class="material-icons"></md-icon>
                    {{membership.organization.name}}
                </md-button>
            </md-list-item>
            <md-divider></md-divider>
            <md-list-item>
                <md-button
                    style="text-align:left"
                    ui-sref="organizations"
                    ng-click="toggleLeft()">
                        <md-icon class="material-icons"></md-icon>
                        Organizations
                </md-button>
            </md-list-item>
            <md-list-item data-ng-if="canShowOrganizationSettings">
                <md-button
                    style="text-align:left"
                    ng-click="toggleLeft()"
                    ui-sref="org.settings({ orgId: organizationId })">
                        <md-icon class="material-icons">&#xE8B8;</md-icon>
                        Settings
                </md-button>
            </md-list-item>
            <!-- Todo: add account settings -->
            <md-list-item data-ng-if="false">
                <md-button
                    style="text-align:left"
                    ng-click="toggleLeft()">
                    Account Settings
                </md-button>
            </md-list-item>
            <md-list-item>
                <md-button
                    style="text-align:left"
                    ng-if="identity.isAuthenticated()"
                    ng-click="signOut();">
                        <md-icon class="material-icons"></md-icon>
                        Logout
                </md-button>
            </md-list-item>
        </md-list>
    </md-content>
</md-sidenav>
